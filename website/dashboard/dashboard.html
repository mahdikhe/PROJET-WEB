<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <!-- Add Leaflet CSS -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <link rel="stylesheet" href="style.css">
    <!-- Add Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
   
</head>
<body>
    <!-- Sidebar -->
    <aside class="sidebar">
        <div class="logo">
            <a href="../projet/project.html">
                <img src="logo.png" alt="Logo">
            </a>
        </div>
        <nav>
            <ul class="nav-menu">
                <li class="nav-item">
                    <a href="#" class="nav-link active">
                        <i class="fas fa-home"></i>
                        <span>Overview</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="#" class="nav-link">
                        <i class="fas fa-chart-line"></i>
                        <span>Analytics</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="#" class="nav-link">
                        <i class="fas fa-users"></i>
                        <span>Audience</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="#" class="nav-link">
                        <i class="fas fa-map-marker-alt"></i>
                        <span>Locations</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="creative_dashboard.php" class="nav-link">
                        <i class="fas fa-project-diagram"></i>
                        <span>Projects</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="#" class="nav-link settings-toggle">
                        <i class="fas fa-cog"></i>
                        <span>Settings</span>
                    </a>
                </li>
            </ul>
        </nav>
    </aside>

    <!-- Main Content -->
    <main class="main-content">
        <!-- Header -->
        <header class="header">
            <h1 class="header-title">Social Media Analytics</h1>
            <div class="header-actions">
                <button class="btn btn-outline">
                    <i class="fas fa-download"></i> Export
                </button>
                <button class="btn btn-primary">
                    <i class="fas fa-plus"></i> New Report
                </button>
            </div>
        </header>

        <!-- Metrics Grid -->
        <div class="metrics-grid">
            <div class="metric-card">
                <h3 class="metric-title">Engagement</h3>
                <div class="metric-value">24.5K</div>
                <div class="metric-change">+12.5% from last month</div>
            </div>
            <div class="metric-card">
                <h3 class="metric-title">Reach</h3>
                <div class="metric-value">156.8K</div>
                <div class="metric-change">+8.2% from last month</div>
            </div>
            <div class="metric-card">
                <h3 class="metric-title">Audience Growth</h3>
                <div class="metric-value">+2.4K</div>
                <div class="metric-change">+15.3% from last month</div>
            </div>
            <div class="metric-card">
                <h3 class="metric-title">Sentiment</h3>
                <div class="metric-value">87%</div>
                <div class="metric-change">+5.2% from last month</div>
            </div>
        </div>

        <!-- Time Spent Section -->
        <div class="time-spent-section">
            <div class="time-spent-header">
                <h2 class="time-spent-title">User Time Spent</h2>
                <select style="padding: 8px 12px; border-radius: 4px; border: 1px solid var(--border-color);">
                    <option>Last 7 Days</option>
                    <option>Last 30 Days</option>
                    <option>Last 90 Days</option>
                </select>
            </div>
            <div class="time-spent-grid">
                <div class="time-spent-card">
                    <div class="time-spent-value">2h 45m</div>
                    <div class="time-spent-label">Average Daily Time</div>
                </div>
                <div class="time-spent-card">
                    <div class="time-spent-value">19h 15m</div>
                    <div class="time-spent-label">Weekly Total</div>
                </div>
                <div class="time-spent-card">
                    <div class="time-spent-value">+12%</div>
                    <div class="time-spent-label">Growth Rate</div>
                </div>
                <div class="time-spent-card">
                    <div class="time-spent-value">78%</div>
                    <div class="time-spent-label">Active Users</div>
                </div>
            </div>
        </div>

        <!-- Email List Section -->
        <div class="email-list-section">
            <div class="email-list-header">
                <h2 class="email-list-title">Email Subscribers</h2>
                <button class="btn btn-primary">
                    <i class="fas fa-plus"></i> Add Subscriber
                </button>
            </div>
            <table class="email-table">
                <thead>
                    <tr>
                        <th>Email</th>
                        <th>Name</th>
                        <th>Status</th>
                        <th>Last Active</th>
                        <th>Actions</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>john.doe@example.com</td>
                        <td>John Doe</td>
                        <td><span class="email-status status-active">Active</span></td>
                        <td>2 hours ago</td>
                        <td>
                            <button class="btn btn-outline" style="padding: 4px 8px; font-size: 12px;">
                                <i class="fas fa-edit"></i>
                            </button>
                        </td>
                    </tr>
                    <tr>
                        <td>jane.smith@example.com</td>
                        <td>Jane Smith</td>
                        <td><span class="email-status status-pending">Pending</span></td>
                        <td>1 day ago</td>
                        <td>
                            <button class="btn btn-outline" style="padding: 4px 8px; font-size: 12px;">
                                <i class="fas fa-edit"></i>
                            </button>
                        </td>
                    </tr>
                    <tr>
                        <td>mike.johnson@example.com</td>
                        <td>Mike Johnson</td>
                        <td><span class="email-status status-inactive">Inactive</span></td>
                        <td>1 week ago</td>
                        <td>
                            <button class="btn btn-outline" style="padding: 4px 8px; font-size: 12px;">
                                <i class="fas fa-edit"></i>
                            </button>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>

        <!-- Charts Section -->
        <div class="charts-section">
            <div class="chart-card">
                <h2 class="chart-title">Engagement Trends</h2>
                <div class="chart-container">
                    <canvas id="engagementChart"></canvas>
                </div>
                <div class="chart-legend">
                    <div class="legend-item">
                        <div class="legend-color" style="background-color: #00b8a9;"></div>
                        <span>Likes</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-color" style="background-color: #6c63ff;"></div>
                        <span>Comments</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-color" style="background-color: #d295ff;"></div>
                        <span>Shares</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-color" style="background-color: #ff6b6b;"></div>
                        <span>Bookmarks</span>
                    </div>
                </div>
            </div>
            <div class="chart-card">
                <h2 class="chart-title">Audience Demographics</h2>
                <div class="chart-container">
                    <canvas id="demographicsChart"></canvas>
                </div>
                <div class="chart-legend">
                    <div class="legend-item">
                        <div class="legend-color" style="background-color: #00b8a9;"></div>
                        <span>18-24</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-color" style="background-color: #6c63ff;"></div>
                        <span>25-34</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-color" style="background-color: #d295ff;"></div>
                        <span>35-44</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-color" style="background-color: #ff6b6b;"></div>
                        <span>45-54</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-color" style="background-color: #ffd166;"></div>
                        <span>55+</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- Map Section -->
        <div class="map-section">
            <div class="map-header" style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                <h2 class="map-title">Audience Location</h2>
                <div class="map-controls" style="display: flex; gap: 10px;">
                    <select id="mapFilter" style="padding: 8px 12px; border-radius: 4px; border: 1px solid var(--border-color);">
                        <option value="all">All Regions</option>
                        <option value="europe">Europe</option>
                        <option value="americas">Americas</option>
                        <option value="asia">Asia</option>
                        <option value="africa">Africa</option>
                    </select>
                    <button class="btn btn-outline" id="toggleHeatmap">
                        <i class="fas fa-fire"></i> Toggle Heatmap
                    </button>
                </div>
            </div>
            <div class="map-container" id="audienceMap"></div>
            <div class="map-stats" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 20px; margin-top: 20px;">
                <div class="stat-card">
                    <div class="stat-value">1.2M</div>
                    <div class="stat-label">Total Audience</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value">156</div>
                    <div class="stat-label">Countries Reached</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value">42%</div>
                    <div class="stat-label">Urban Coverage</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value">+15%</div>
                    <div class="stat-label">Growth Rate</div>
                </div>
            </div>
        </div>

        <!-- Projects Section -->

    </main>

    <!-- Add Leaflet JS -->
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    
    <!-- Update Chart and Map Initialization Script -->
    <script>
        // Initialize Engagement Chart with enhanced colors and data
        const engagementCtx = document.getElementById('engagementChart').getContext('2d');
        new Chart(engagementCtx, {
            type: 'line',
            data: {
                labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'],
                datasets: [{
                    label: 'Likes',
                    data: [12000, 19000, 15000, 25000, 22000, 30000, 28000, 35000, 32000, 40000, 38000, 45000],
                    borderColor: '#00b8a9',
                    backgroundColor: 'rgba(0, 184, 169, 0.1)',
                    tension: 0.4,
                    fill: true,
                    pointRadius: 4,
                    pointHoverRadius: 6
                }, {
                    label: 'Comments',
                    data: [8000, 12000, 10000, 15000, 18000, 20000, 22000, 25000, 23000, 28000, 26000, 30000],
                    borderColor: '#6c63ff',
                    backgroundColor: 'rgba(108, 99, 255, 0.1)',
                    tension: 0.4,
                    fill: true,
                    pointRadius: 4,
                    pointHoverRadius: 6
                }, {
                    label: 'Shares',
                    data: [5000, 8000, 6000, 10000, 12000, 15000, 14000, 18000, 16000, 20000, 19000, 22000],
                    borderColor: '#d295ff',
                    backgroundColor: 'rgba(210, 149, 255, 0.1)',
                    tension: 0.4,
                    fill: true,
                    pointRadius: 4,
                    pointHoverRadius: 6
                }, {
                    label: 'Bookmarks',
                    data: [3000, 5000, 4000, 7000, 8000, 10000, 9500, 12000, 11000, 14000, 13000, 15000],
                    borderColor: '#ff6b6b',
                    backgroundColor: 'rgba(255, 107, 107, 0.1)',
                    tension: 0.4,
                    fill: true,
                    pointRadius: 4,
                    pointHoverRadius: 6
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                animation: {
                    duration: 2000,
                    easing: 'easeInOutQuart'
                },
                plugins: {
                    legend: {
                        display: false
                    },
                    tooltip: {
                        mode: 'index',
                        intersect: false,
                        backgroundColor: 'rgba(255, 255, 255, 0.9)',
                        titleColor: 'var(--text-dark)',
                        bodyColor: 'var(--text-medium)',
                        borderColor: 'var(--border-color)',
                        borderWidth: 1,
                        padding: 12,
                        displayColors: true
                    }
                },
                scales: {
                    y: {
                        beginAtZero: true,
                        grid: {
                            color: 'rgba(0, 0, 0, 0.1)'
                        },
                        ticks: {
                            callback: function(value) {
                                if (value >= 1000) {
                                    return value / 1000 + 'k';
                                }
                                return value;
                            }
                        }
                    },
                    x: {
                        grid: {
                            display: false
                        }
                    }
                }
            }
        });

        // Initialize Demographics Chart with enhanced colors and data
        const demographicsCtx = document.getElementById('demographicsChart').getContext('2d');
        new Chart(demographicsCtx, {
            type: 'doughnut',
            data: {
                labels: ['18-24', '25-34', '35-44', '45-54', '55+'],
                datasets: [{
                    data: [25, 35, 20, 12, 8],
                    backgroundColor: [
                        '#00b8a9',
                        '#6c63ff',
                        '#d295ff',
                        '#ff6b6b',
                        '#ffd166'
                    ],
                    borderWidth: 0,
                    hoverOffset: 15
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                animation: {
                    animateScale: true,
                    animateRotate: true,
                    duration: 2000,
                    easing: 'easeInOutQuart'
                },
                plugins: {
                    legend: {
                        display: false
                    },
                    tooltip: {
                        callbacks: {
                            label: function(context) {
                                return `${context.label}: ${context.raw}%`;
                            }
                        }
                    }
                },
                cutout: '70%'
            }
        });

        // Initialize Map with enhanced features
        const map = L.map('audienceMap').setView([51.505, -0.09], 2);
        
        L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
            attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
        }).addTo(map);

        // Enhanced audience locations data with more cities
        const audienceLocations = [
            { lat: 51.505, lng: -0.09, count: 1000, name: 'London', region: 'europe' },
            { lat: 40.7128, lng: -74.0060, count: 2000, name: 'New York', region: 'americas' },
            { lat: 48.8566, lng: 2.3522, count: 1500, name: 'Paris', region: 'europe' },
            { lat: 35.6762, lng: 139.6503, count: 800, name: 'Tokyo', region: 'asia' },
            { lat: -33.8688, lng: 151.2093, count: 500, name: 'Sydney', region: 'asia' },
            { lat: 37.7749, lng: -122.4194, count: 1200, name: 'San Francisco', region: 'americas' },
            { lat: 52.5200, lng: 13.4050, count: 900, name: 'Berlin', region: 'europe' },
            { lat: 55.7558, lng: 37.6173, count: 700, name: 'Moscow', region: 'europe' },
            { lat: 19.4326, lng: -99.1332, count: 600, name: 'Mexico City', region: 'americas' },
            { lat: -23.5505, lng: -46.6333, count: 550, name: 'SÃ£o Paulo', region: 'americas' },
            { lat: 28.6139, lng: 77.2090, count: 750, name: 'Delhi', region: 'asia' },
            { lat: 30.0444, lng: 31.2357, count: 400, name: 'Cairo', region: 'africa' },
            { lat: -26.2041, lng: 28.0473, count: 350, name: 'Johannesburg', region: 'africa' },
            { lat: 1.3521, lng: 103.8198, count: 450, name: 'Singapore', region: 'asia' }
        ];

        // Add circles with enhanced styling
        const circles = [];
        audienceLocations.forEach((location, index) => {
            setTimeout(() => {
                const circle = L.circle([location.lat, location.lng], {
                    color: '#00b8a9',
                    fillColor: '#00b8a9',
                    fillOpacity: 0.5,
                    radius: Math.sqrt(location.count) * 100
                }).addTo(map);

                circle.bindPopup(`
                    <div style="padding: 10px;">
                        <strong>${location.name}</strong><br>
                        Audience: ${location.count.toLocaleString()}<br>
                        Region: ${location.region.charAt(0).toUpperCase() + location.region.slice(1)}<br>
                        Growth: +${Math.floor(Math.random() * 20) + 5}%
                    </div>
                `);

                circles.push(circle);
            }, index * 200);
        });

        // Add zoom controls
        L.control.zoom({
            position: 'bottomright'
        }).addTo(map);

        // Add map filter functionality
        document.getElementById('mapFilter').addEventListener('change', function(e) {
            const selectedRegion = e.target.value;
            circles.forEach(circle => {
                const location = audienceLocations.find(loc => 
                    loc.lat === circle.getLatLng().lat && 
                    loc.lng === circle.getLatLng().lng
                );
                if (selectedRegion === 'all' || location.region === selectedRegion) {
                    circle.addTo(map);
                } else {
                    map.removeLayer(circle);
                }
            });
        });

        // Add heatmap toggle functionality
        let heatmapLayer = null;
        document.getElementById('toggleHeatmap').addEventListener('click', function() {
            if (heatmapLayer) {
                map.removeLayer(heatmapLayer);
                heatmapLayer = null;
            } else {
                const heatmapData = audienceLocations.map(loc => ({
                    lat: loc.lat,
                    lng: loc.lng,
                    value: loc.count
                }));
                
                heatmapLayer = L.heatLayer(heatmapData, {
                    radius: 25,
                    blur: 15,
                    maxZoom: 10,
                    gradient: {
                        0.4: 'blue',
                        0.6: 'cyan',
                        0.7: 'lime',
                        0.8: 'yellow',
                        1.0: 'red'
                    }
                }).addTo(map);
            }
        });
    </script>
</body>
</html> 